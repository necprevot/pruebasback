<div class="error-container">
    <div class="error-content">
        <div class="error-icon">
            {{#if (eq status 404)}}
                üîç
            {{else}}
                ‚ö†Ô∏è
            {{/if}}
        </div>
        
        <h1 class="error-title">
            {{#if (eq status 404)}}
                Producto no encontrado
            {{else}}
                Error {{status}}
            {{/if}}
        </h1>
        
        <div class="error-message">
            {{#if (eq status 404)}}
                <p>Lo sentimos, el producto que est√°s buscando no existe o ha sido eliminado.</p>
                <p><strong>URL solicitada:</strong> <code>{{url}}</code></p>
            {{else}}
                <p>{{message}}</p>
                {{#if url}}
                    <p><strong>URL:</strong> <code>{{url}}</code></p>
                {{/if}}
            {{/if}}
        </div>
        
        <div class="error-actions">
            {{#if backUrl}}
                <a href="{{backUrl}}" class="btn-primary">‚Üê Volver al Cat√°logo</a>
            {{else}}
                <a href="/products" class="btn-primary">‚Üê Volver al Cat√°logo</a>
            {{/if}}
        </div>
        
        {{#if (eq status 404)}}
            <div class="suggestions">
                <h3>üí° Sugerencias:</h3>
                <ul>
                    <li>Verifica que el enlace est√© correcto</li>
                    <li>El producto podr√≠a haber sido eliminado o movido</li>
                    <li>Explora nuestro cat√°logo completo</li>
                    <li>Usa la b√∫squeda para encontrar productos similares</li>
                </ul>
            </div>
        {{/if}}
        
        {{#ifCond status '!==' 404}}
            <div class="technical-details">
                <h4>Detalles t√©cnicos:</h4>
                <p><strong>C√≥digo de error:</strong> {{status}}</p>
                <p><strong>Mensaje:</strong> {{message}}</p>
                {{#if url}}
                    <p><strong>Ruta:</strong> {{url}}</p>
                {{/if}}
            </div>
        {{/ifCond}}
    </div>
</div>

<!-- Formulario de b√∫squeda oculto -->
<div id="searchForm" style="display: none;">
    <div class="search-overlay">
        <div class="search-modal">
            <h3>üîç Buscar productos similares</h3>
            <form action="/products" method="GET">
                <div class="search-input-group">
                    <input type="text" 
                           name="search" 
                           placeholder="Escribe qu√© est√°s buscando..."
                           class="search-input"
                           autofocus>
                    <button type="submit" class="search-btn">Buscar</button>
                </div>
            </form>
            <button onclick="closeSearch()" class="close-search">Cerrar</button>
        </div>
    </div>
</div>

<script>
function searchSimilar() {
    document.getElementById('searchForm').style.display = 'block';
    document.querySelector('.search-input').focus();
}

function closeSearch() {
    document.getElementById('searchForm').style.display = 'none';
}

// Cerrar modal al hacer click fuera
document.addEventListener('click', function(e) {
    if (e.target.classList.contains('search-overlay')) {
        closeSearch();
    }
});

// Cerrar modal con Escape
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeSearch();
    }
});
</script>